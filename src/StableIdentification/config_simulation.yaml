# This is a configuration file for simulation.
# The file will be passed to an instance of Simulator() in which
# an optimization problem is solved according to this configuration.

# Tutorial for your project:
# 1. Update the 'project_name' variable to match the actual name of your project.
# 2. Customize the 'problem_initialpoint', 'problem_coordinator_name', and 'solver_name' to match your specific experiments.
#    Make sure that 'problem_coordinator_name' corresponds to the file name of your ProblemCoordinator subclass in the project.
# 3. Edit the 'solver_option'. 'solver_option-common' contains shared settings for all solvers,
#    while 'solver_option-{solver_name}' contains specific settings for each individual solver you are using.
# 4. If you plan to use multi-run functionality in the simulation, modify 'hydra-sweeper-params' to set the appropriate multi-run range.
#     This allows you to conduct simulations with various configurations efficiently.
#
# Next, please proceed to the 'simulator.py'.

problem_name: 'StableIdentification'
problem_instance: 1  # can be swept by multi-run
problem_initialpoint: a  # can be swept by multi-run
problem_coordinator_name: "coordinator"  # called in simulator to set a problem
solver_name: ["RIPM"]
is_X_noisy: True
Xset: [1,2,3,4,5]
h: 0.02

solver_option:
    # Common settings: stopping criteria and wandb setting
    common:
      maxtime: 240 #240 # max time of experiments as a stopping criterion
      maxiter: 10000  # max iteration as a stopping criterion
      tolresid: 0  # tolerance of residual based on KKT conditions as a stopping criterion
      wandb_logging: False  # Set True for sending the experimental results to wandb
      wandb_project: ${problem_name}-${problem_instance}-${problem_initialpoint}  # project name in wandb
      verbosity: 0
    RIPTRM:
      TRS_solver: 'tCG'  # 'Exact_RepMat', 'Exact_Operator', or 'tCG', 'Cauchy'
      second_order_stationarity: False
      # TRS_solver: 'Exact_RepMat'  # 'Exact_RepMat', 'Exact_Operator', or 'tCG', 'Cauchy'
      # second_order_stationarity: True
      # checkTRSoptimality: True
      # do_simple_barrier_parameter_update: True
      # do_simple_barrier_parameter_update: False
      # barrier_parameter_update_r: 0.01 # 0.01
      # barrier_parameter_update_c: 0.5 # 0.5,
      # barrier_parameter_update_b: 0.8
    RSQO:
      # gamma: 0.25
      # beta: 0.9
      quadoptim_eigvalcorr: 1e-8
    #   rho: 0.001
    #   tau: 0.0001
    #   beta: 0.99
    RIPM:
      # gamma: 0.9
      # linesearch_beta: 1e-4
      # linesearch_theta: 0.5
      checkNTequation: True
      # linesearch_beta: 1e-6
      # linesearch_theta: 0.9
    # Settings specific to each solver
### NOTE ###
# Experimental results are stored in 'intermediate/${problem_name}/${problem_instance}/${problem_initialpoint}'.

# Sweep settings.
output_path: intermediate/${problem_name}/${problem_instance}/${problem_initialpoint}
hydra:
  run:
    dir: intermediate/${problem_name}
  sweeper:
    params:
      # solver_option.RIPM.gamma: 0.5, 0.9
      # solver_option.RIPM.linesearch_beta: 1e-8, 1e-4, 0.1
      # solver_option.RIPM.linesearch_theta: 0.1, 0.5, 0.9
      # problem_instance: 1
      problem_initialpoint: a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t
      # solver_option.RSQO.quadoptim_eigvalcorr: 1e-6, 1e-2
      solver_name: ["RALM","RIPM"]